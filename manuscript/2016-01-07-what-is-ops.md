---
layout: post
title: 运维之职难策
date: 2016-01-07
category: centos
---

###运维之职
运维工程师是干啥的？我常常问自己这个问题.某一天，我突然灵光一闪，运维工程师不就好
比工厂里的厂长,而硬件就是生产用的机器，软件就是工人.没有工人的操作，机器就是一堆
废铁(非全自动化机器).我们这种厂长是信息厂长，主要职责就是让整个信息生产系统正常
工作，主要工作内容是保证软件工人和机器之间,软件工人和软件工人之间，机器和机器之
间能够有条不紊地协作完成生产信息的任务.信息以在不同的机器组件中以不同的形式存在
(在磁盘上是磁信号,在内存里是电信号，在网线上则可能是电信号或光信号).传输信号就好
比物流公司的运输工具，互联网网络设备则是道路上的方向指示牌，指导传输信号该走哪条
路，最终把生产出来的信息交到用户的设备上，呈现给用户.

1. 尽可能在进入生产环境之前发现软硬件潜在的问题(测试也是如此)
2. 因为软件硬的太复杂，缺陷被遗漏难以避免，或者硬件寿终正寝,在生产环境里，软硬件总是
   会出问题，运维就必须得在出现问题以后，尽可能在用户感知之前，发现问题,这就是监控的
   目的
3. 不得不承认，有些问题还是没有那么容易被监控到，用户已感知到，并到客服投诉，那么运维就得和
   开发一起定位问题，解决问题

###运维之难
1. 软件和硬件可能无法协调工作，比如说系统没有某硬件的驱动
2. 软件和软件之间会闹矛盾，比如说软件和软件之间抢资源
3. 硬件和硬件之间不兼容，比如说两网卡无法自动协商
4. 软件和软件之间有依赖关系，而依赖条件无法满足
5. 软件和硬件可能有缺陷，且只有在特殊情况下才触发
6. 软件和硬件随时都可能罢工
7. 软件和硬件数量庞大，运维工程师压力山大
8. 节假日负载是日常的很多倍，软件和硬件的部署和下线要足够快

###运维之策
针对上面的各个难点，运维有自己的对策

1. 针对各个运维场景进行服务器配置选型，进行彻底测试，以后每个场景固定使用某个机型
2. 尽可能单台机器部署一种应用，如果实在需要合并部署，那么可以考虑用cgroup来分配资源
3. 这个问题，一般是由服务器厂商解决，除非是自己组装机器
4. 软件依赖关系可以通过工具获得，然后记录到CMDB里，方便以后部署相同应用
5. 软件的缺陷只能靠测试尽可能充分，硬件的缺陷则是在部署应用前，用stress等煲机软件提
   前发现硬件问题
6. 软件和硬件缺陷无可避免，那么就要完善的监控系统来监控
7. 数量的庞大，则需要将操作经验变成自动化
8. 本质上和7是一个道理，靠自动化来解决

